/* kè¿‘é‚»é—?é¢?
å¹³é¢åæ ‡ ä¸€ä¸?ç‚?  ä¸ä¹‹æœ€è¿‘çš„kä¸?ç‚? 
ä»…å½“vjæ˜¯viçš„kè¿‘é‚»ï¼Œä¸”viæ˜¯vjçš„kè¿‘é‚»æ—¶ï¼Œæ‰æŠŠviä¸vjè¿æ¥èµ·æ¥ã€‚è¿™æ ·å¾—åˆ°çš„å›¾ç§°ä¸ºæ··åˆk-è¿‘é‚»å›?   æ— å‘å›?
ç»™nä¸?ç‚?   æ±‚æœ€å°çš„k è®©å…¨å›¾è¿é€?

å…·ä½“çŸ¥è¯†
æœ€å°è¿é€šå›¾   
å›¾ä¸­ æ„å»ºè¾¹çš„æ–¹å¼æ€»ç»“    æŸ¥æ‰¾ æŒ‰ç…§è·ç?»æ’åº?  
æœ‰å‘å›¾åŒ–æ— å‘å›?  æœ€å¤šä¸¤è¾? æ‰€ä»¥ä¸¤ä¸?çŸ©é˜µåŠ ä¸€ä¸?  å?2ä¸?1 1å’?0ä¸?0å³å¯
 ç”¨äºŒç»´çŸ©é˜µå­˜æˆ–è€?  é‚»æ¥è¡?  é‚»æ¥è¡¨å¥½å¤„æ˜¯è¿é€šåˆ¤æ–?å¿?ä¸€ç‚?
åˆ¤æ–­è¿é€šæ€?   dfs   bfs  å¹¶æŸ¥é›?  å¦å?–ä¸¤ç§?
*/
#include <bits/stdc++.h>
using namespace std;
#define max 9999
//é¢å‘è¿‡ç¨‹æ€è·¯

struct point
{
   double x;
   double y;
   int num;
};

struct dis//è·ç?»ç»“æ? ä½†æ˜¯è¦å¸¦ç‚¹çš„ä¸‹æ ‡
{
double value;
int point;
};


double distance(point a,point b)//æ¬§å¼è·ç??
{  return (a.x-b.x)*(a.x-b.x)+(a.y-b.y)*(a.y-b.y);}


bool cmp(const dis &a,const dis &b)
{return a.value<b.value;}


vector <point> p;//på­˜nä¸?ç‚¹çš„åæ ‡


bool connect(   vector<vector<int> > &a,int n)
{
  for(int k=0;k<n;k++) 
    for(int i=0;i<n;i++) 
    if(a[k][i]) 
      for(int j=0;j<n;j++) 
        if(a[i][k]&&a[k][j]){ 
          a[i][j]=1; 
        } 
  for(int i=0;i<n;i++) 
   for(int j=0;j<n;j++) 
   { 
    if(a[i][j]+a[j][i]==0){  
      return false; /* printf("no\n");return 0; */ }  
   } 
  return true;/*  printf("yes\n");  */ 
}

/* int solve(dis d[max][max],int n)
{
   

   
return k;

} */



int main()
{
point temp;
int n;
cin>>n;
for(int i=0;i<n;i++)
{
    cin>>temp.x>>temp.y;temp.num=i;
    p.push_back(temp);
}

    //å»ºå›¾  è¿‡ç¨‹ä¸?æŒ‰è·ç¦»æ’åº? åŠ è¾¹   //äºŒç»´vectorè®¿é—®å¤æ‚  ç›´æ¥a[n][n];
   dis d[n][n];//é‚»æ¥çŸ©é˜µ   è·ç?»çŸ©é˜?  æ³¨æ„è·ç?»åŒ…å?å€¼å’Œä¸‹æ ‡ä¸¤éƒ¨åˆ?
  memset(d,0,sizeof(d));
    for(int i=0;i<n;i++)
    {
    for(int j=0;j<n;j++)
    {
       //if(i==j) continue;
       //ç®—è·ç¦?   ç®—ä¸‹æ ?
       d[i][j].value=distance(p[i],p[j]);
       d[i][j].point=j;
    }
    }

    //å¯¹ä¸‹æ ‡æŒ‰ç…§è·ç¦»é€è?Œæ’åº?
    for(int i=0;i<n;i++)
    {
   sort(d[i],d[i]+n,cmp);//ç›´æ¥+nå³å¯ å¾ˆæ™ºèƒ?
    }
/* d[i][j].pointå½¢å??
*/
 int ans=0;  
    //åˆ©ç”¨d[i][j].pointçš„å‰kåˆ? ç»™é‚»æ¥çŸ©é˜µèµ‹å€¼åŠ è¾?  
  /*   vector<vector<int> > a;
    for(int i=0;i<n;i++)
    { for(int j=0;j<n;j++)
    { a[i][j]=0;}} */
    int a[n][n];memset(a,0,sizeof(a)); 
  vector<vector<int> > b (n,vector<int>(n,0));//åˆå?‹åŒ–ä¸?0  nåˆ†åˆ«ä¸ºè?Œå’Œåˆ?

    /*   int b [n][n];memset(b,0,sizeof(b));  */
/*  for(int i=0;i<n;i++)
    { for(int j=0;j<n;j++)
    {cout<<b[i][j];}}  */
while(!connect(b,n))//äºŒç»´æ•°ç»„ä¼ å‚æ˜?ä¸?éš¾ç‚¹
{

    ans++;
       for(int i=0;i<n;i++)//aä¸åŠ¨  bç”±aç”Ÿæˆ æ¯æ?¡éƒ½åœ¨å˜  æ­¤æ—¶æ¸…é›¶
    { for(int j=0;j<n;j++)
    { b[i][j]=0;}}


     for(int i=0;i<n;i++)
    {
    for(int j=1;j<=ans;j++)//å‰ansåˆ? ä¸å«0åˆ?
    {
       a[i][  d[i][j].point  ]++;
    }
    }
/*  a[i][j]å½¢å??  ä¸å?¹ç§° */
    for(int i=0;i<n;i++)
    {
    for(int j=0;j<i;j++)//ä¸‹ä¸‰è§’å³å?
    {
      if(a[i][j]&&a[j][i])   
      {b[i][j]=1;b[j][i]=1;}//ååŠå¥å¯ä»¥ä¸è¦?
    }
    }
/* b[i][j]å¿…å?¹ç§°é˜?   éªŒè¯è¿é€šæ€?
 */

}


  cout<<ans;//è¿é€šæ—¶ é€€å‡ºå¾ªç? æ±‚å‡ºk
	return 0;
}

/* 
10
0.13 56.36
19.33 80.87
58.50 47.99
35.03 89.60
82.28 74.66
17.41 85.89
71.05 51.35
30.40 1.50
9.14 36.45
14.73 16.59

3 



80
137.03 395.03
257.24 118.90
618.27 79.44
680.96 833.00
272.41 472.09
205.33 850.18
358.07 78.89
967.38 295.21
394.02 164.37
211.10 823.05
754.02 92.04
891.54 932.65
349.62 401.17
68.94 908.32
432.02 526.20
376.11 543.78
44.28 564.90
338.48 305.95
155.37 1.62
829.65 94.33
6.74 792.05
442.27 252.27
703.60 715.02
56.83 986.66
580.83 398.91
388.44 851.80
376.32 927.49
793.66 454.21
741.72 432.39
118.29 34.33
122.29 578.11
867.49 81.27
537.58 345.77
479.11 637.17
293.16 22.10
982.33 447.25
155.80 799.52
821.65 611.84
22.40 894.04
128.85 896.42
614.52 586.87
222.88 356.36
229.35 96.16
619.77 432.26
78.89 684.99
333.63 172.15
247.96 911.89
749.72 737.17
802.67 430.40
851.22 846.19
80.72 243.63
80.60 316.81
694.42 819.97
617.15 357.83
277.72 976.56
351.66 769.92
509.02 936.61
339.73 711.05
440.29 466.57
14.68 182.41
664.17 500.02
941.77 891.38
350.23 153.66
394.18 647.42
681.63 542.59
533.19 947.94
723.41 300.27
472.43 909.33
253.64 210.09
8.67 200.42
588.85 854.49
299.69 133.70
934.51 687.52
270.46 571.34
292.58 438.28
29.45 801.66
456.74 249.76
75.75 42.73
126.62 460.95
578.45 729.27


6


50
506.56 518.51
531.87 526.32
518.06 506.45
508.59 500.72
502.33 517.71
523.36 538.61
508.59 539.58
534.34 530.32
546.28 527.57
548.54 509.20
527.42 534.53
515.75 525.83
525.10 541.35
517.62 537.30
537.21 522.21
503.22 506.57
519.30 502.08
547.80 532.51
525.83 539.28
536.23 505.82
523.73 541.04
547.78 511.05
517.44 544.70
543.58 520.26
549.34 522.47
50.00 50.00
329.66 473.79
145.77 417.43
242.54 153.10
60.37 436.66
253.59 370.22
228.63 111.51
124.42 378.25
172.57 457.06
271.79 56.41
50.84 383.05
173.77 342.97
156.40 222.56
340.74 323.28
158.56 146.77
26.81 237.01
187.33 403.18
251.63 313.81
222.98 268.40
388.18 291.26
378.38 202.28
336.71 304.18
7.04 174.81
460.21 159.62
184.94 122.49

25
*/